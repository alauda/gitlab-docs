---
title: Upgrading GitLab
weight: 20
---

Upgrading GitLab is a relatively straightforward process, but the complexity can increase based on:

The installation method you have used.
How old your GitLab version is.
If you're upgrading to a major version.
If possible, you should test out the upgrade in a test environment before updating your production instance. Your test environment should mimic your production environment as closely as possible.

You can read the [official upgrade documentation](https://docs.gitlab.com/update) for more information.

## Upgrade Path

The table below contains the complete upgrade path. When upgrading, you need to upgrade the Operator and GitLab instance versions in sequence.

| No  | Alauda Build of GitLab Operator Version | Requirements |
| --- | ---------------- | ----------------------------- |
| 1   | 17.8.z           | -               |
| 2   | 17.11.z          | -               |
| 3   | 18.2.z          | [**PostgreSQL 16** (upgrade required)](../install/02_gitlab_credential.mdx#pg-requirements)  |

:::info
In the version numbers above, the `.z` indicates the latest available patch version for that minor release.
When performing an upgrade, you should always use the most recent patch version to ensure you benefit from the latest security updates and bug fixes.
The latest patch versions for each release can be found in the [Release Notes](../overview/release_notes.mdx).
:::

:::warning
If your GitLab version is lower than `17.8.5`, please refer to the [GitLab Data Migration](./02_14_upgrade_to_17.md) to complete the upgrade.
:::

## Upgrade Steps

:::warning
To safely upgrade your GitLab version to a new version, please note the following:

1. **PostgreSQL Version Check**: [Ensure your PostgreSQL version meets the requirements for your target GitLab version](../install/02_gitlab_credential.mdx#pg-requirements)
2. Before upgrading the GitLab instance, please complete the data backup of the instance.
3. Upgrading GitLab takes some time, depending on the GitLab data size and the version gap between the current version and target version (number of upgrades)
4. The instance will be unavailable during the upgrade process.
:::

When upgrading, you need to upgrade the <ExternalSiteLink name="acp" href="extend/operator.html#upgrading-operators" children="Operator" /> version and instance version in sequence according to the upgrade path. Upgrading the Operator will not automatically upgrade the instance version, and the upgraded Operator will not manage old GitLab instances, so you need to manually trigger the instance upgrade in time.

## Upgrading Instances

### Upgrading Instances via UI

Go to the `Administrator` -> `Marketplace` -> `Operator Hub` page, switch to the target cluster and enter the `Alauda Build of GitLab` Operator details page, click on the instance name you want to upgrade to enter the instance details page, and click the upgrade button on the instance details page.

### Upgrading Instances via YAML

Go to the `Administrator` -> `Clusters` -> `Resources` page, switch to the target cluster and search for the `GitLabOfficial` resource type, edit the instance resource you want to upgrade, modify the `spec.version` field to the desired instance version, and save it.
